<p-table [value]="project.progresses">
  <ng-template pTemplate="header">
    <tr class="text-center">
      <th rowspan="3" colspan="2" class="width30">Company</th>
      <th colspan="7">Progress Data</th>
    </tr>
    <tr class="text-center">
      <th colspan="3">Companies</th>
      <th colspan="2">Working Time</th>
      <th colspan="2">Steps</th>
    </tr>
    <tr class="text-center">
      <th>In Progress</th>
      <th>Closed</th>
      <th>Succeed</th>
      <th>Performed</th>
      <th>Total</th>
      <th>Performed</th>
      <th>Total</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-progress>
    <tr class="text-center">
      <td colspan="2">{{progress.company}}</td>
      <td [ngClass]="{'in-progress-state': progress.in_progress === 1}"></td>
      <td [ngClass]="{'closed-state': progress.failed === 1}"></td>
      <td [ngClass]="{'succeed-state': progress.succeed === 1}"></td>
      <td>{{progress.steps_completed_time * 24 | number:'1.0-0'}}</td>
      <td>{{progress.steps_total_time * 24 | number:'1.0-0'}}</td>
      <td>{{progress.steps_completed}}</td>
      <td>{{progress.steps_total}}</td>
    </tr>
  </ng-template>
  <ng-template pTemplate="footer">
    <tr>
      <td>Totals</td>
      <td class="text-right">{{project.progresses.length}}</td>
      <td class="text-right">{{project.num_in_progress}}</td>
      <td class="text-right">{{project.num_closed}}</td>
      <td class="text-right">{{project.num_succeed}}</td>
      <td class="text-right">{{project.completed_steps_time * 24 | number:'1.0-0'}}</td>
      <td class="text-right">{{project.total_steps_time * 24 | number:'1.0-0'}}</td>
      <td class="text-right">{{project.completed_steps}}</td>
      <td class="text-right">{{project.total_steps}}</td>
    </tr>
  </ng-template>
</p-table>
