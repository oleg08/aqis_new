<p-growl styleClass="message-growl" [baseZIndex]="1050" [(value)]="msgs"></p-growl>

<app-aqis-update-assistant-reports #updateAssistantReports
                                   cookies_key_date_update="last_project_progress_update"
                                   update_path="update_projects_progress"
                                   cookies_key_start_update="start_progress_update"
                                   tenant_update_date_path="last_tenant_update"
                                   (reload)="reloadPage()">
</app-aqis-update-assistant-reports>

<table class="table table-hover table-progress-report">
  <thead>
  <tr>
    <th colspan="9">
      <h4><u>Projects Progress</u></h4>
      <button class="btn btn-info float-right" (click)="showDialog()">Update Data</button>
    </th>
  </tr>
  <tr>
    <th class="table-cell" rowspan="2" scope="col">Project</th>
    <th class="table-cell" colspan="4" scope="col">Progress %</th>
    <th class="table-cell" rowspan="2" scope="col">Active</th>
    <th class="table-cell" rowspan="2" scope="col">Closed</th>
    <th class="table-cell" rowspan="2" scope="col">Success</th>
    <th class="table-cell" rowspan="2" scope="col">Total</th>
  </tr>
  <tr>
    <th colspan="4"></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngIf="!load_completed">
    <td colspan="9">
      <p-progressBar mode="indeterminate" [style]="{'height': '6px'}"></p-progressBar>
    </td>
  </tr>
  <tr *ngFor="let report of reports">
    <td>{{report.project}}</td>
    <td colspan="4">
      <p-progressBar [value]="report.progress"></p-progressBar>
    </td>
    <td>{{report.active_companies || '-'}}</td>
    <td>{{report.closed_companies || '-'}}</td>
    <td>{{report.success_companies || '-'}}</td>
    <td>{{report.total_companies || '-'}}</td>
  </tbody>
</table>
